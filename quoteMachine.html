<!DOCTYPE HTML>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1,shrink-to-fit=no">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<title>Random Quote Generator from LOTR</title>
	
	<style>
		body{
			background-color: #808054;
		}
		.quote-text, #author {
			opacity: 0;
		}
	</style>
</head>
<body>

	<div class="container">

		<h2 class="display-4 fw-bold position-absolute top-0 start-50 translate-middle-x">Lord Of The Ring Quotes</h2>
		<div class="b-example-divider"></div>
		<wrapper class="position-absolute top-50 start-50 translate-middle" id="quote-box">
			<div class="card p-3 mb-2 bg-light text-dark" style="width: 28rem;">

				<div class="card-body">
					<div class="quote-text">
						<h5 class="card-title">
							<i class="fa fa-quote-left"></i>
							<span id="text"></span>
						</h5>
					</div>
					<h6><div class="fst-italic" id="author"></div></h6>

					<button id="new-quote" onClick="generateQuote()" class="btn btn-success">Random New Quote</button>
					<a href="#" id="tweet-quote" target="_blank" class="btn btn-info">Tweet this Quote!</a>

				</div>
			</div>
		</wrapper>
	</div>
	<script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
	
	<script type="text/javascript">
		var QUOTES = [
		{
			quote: "Not all those who wander are lost.",
			author: "— Bilbo Baggins"
		},
		{
			quote: "Deeds will not be less valiant because they are unpraised.",
			author: "— Aragorn"
		},
		{
			quote: "Even the smallest person can change the course of the future.",
			author: " — Galadriel"
		},
		{
			quote: "It’s the job that’s never started as takes longest to finish.",
			author: "— Sam Gamgee"
		},
		{
			quote: "MY PRECIOUS!!!",
			author: "— Gollum"
		}
		];

		window.onload = init;
		function init(){
			generateQuote();


		}
		function generateQuote(){
			let quoteSize = QUOTES.length;
			let randomIndex = Math.floor(Math.random() * quoteSize);
			let randomQuoteData = QUOTES[randomIndex];

			let tweetLink = "https://twitter.com/intent/tweet?hashtags=quotes&amp;related=freecodecamp&amp;text=";

				//add the tweet
				let randomQuoteDataFormatQ = randomQuoteData.quote.replace(/ /g,"%20");
				tweetLink += randomQuoteDataFormatQ;

				//add the author 
				let randomQuoteDataFormatA = randomQuoteData.author.replace(/ /g,"%20");

				tweetLink += "—" + randomQuoteDataFormatA;

				document.getElementById('tweet-quote').href = tweetLink;
				document.getElementById("text").innerText = randomQuoteData.quote;
				document.getElementById("author").innerText = randomQuoteData.author;

				$('.quote-text, #author').animate({ opacity: 0 }, 500, function () {
					$(this).animate({ opacity: 1 }, 500);
				});
			}
			
			
		</script>
	</body>
	</html>